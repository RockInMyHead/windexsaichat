// Тест новой логики поиска для ВСЕХ запросов
const testMessages = [
    // Должны искать в интернете
    "Расскажи о Python",
    "Что такое искусственный интеллект?",
    "Как приготовить пасту?",
    "Почему небо голубое?",
    "Где находится Париж?",
    "Что такое фотосинтез?",
    "Как работает двигатель внутреннего сгорания?",
    "В чем разница между SQL и NoSQL?",
    "Какие есть виды облачных вычислений?",
    "Объясни теорию относительности",
    "Что такое блокчейн?",
    "Как выбрать хороший компьютер?",
    "Почему важен сон?",
    "Что такое здоровое питание?",
    "Как начать заниматься спортом?",

    // НЕ должны искать (исключения)
    "привет",
    "спасибо",
    "пока",
    "как дела?",
    "кто ты?",
    "что ты умеешь?",
    "очистить чат",
    "2+2",
    "вычисли 5*3",
    "hi",
    "thanks"
];

// Функция проверки поиска (копия из основного кода)
function shouldShowWebSearchIndicator(message) {
    const message_lower = message.toLowerCase().trim();

    // Исключения - запросы, для которых НЕ нужен поиск
    const no_search_patterns = [
        // Приветствия и благодарности
        /^(привет|здравствуй|добрый день|доброе утро|добрый вечер|спасибо|благодар|пока|до свидания)$/,
        /^(hi|hello|hey|thanks|thank you|bye|goodbye)$/,

        // Простые ответы на вопросы бота
        /как дела|что делаешь|кто ты|что ты умеешь/,
        /расскажи о себе|что ты можешь/,

        // Команды управления
        /очистить|удалить|новый чат|стоп|хватит/,
        /clear|delete|new chat|stop/,

        // Математические операции (простые)
        /^\d+[\+\-\*\/]\d+.*$/,
        /^вычисли|посчитай|сколько будет/,

        // Очень короткие сообщения (1-2 слова)
        /^\w{1,10}(\s+\w{1,10})?$/
    ];

    // Проверяем, попадает ли сообщение под исключения
    for (const pattern of no_search_patterns) {
        if (pattern.test(message_lower)) {
            return false;
        }
    }

    // Для ВСЕХ остальных запросов показываем индикатор поиска
    return true;
}

console.log("🧠 Тестирование новой логики: ПОИСК ДЛЯ ВСЕХ ЗАПРОСОВ\n");

let searchCount = 0;
let noSearchCount = 0;

testMessages.forEach((message, index) => {
    const willSearch = shouldShowWebSearchIndicator(message);
    const status = willSearch ? '🔍 ПОИСК' : '🚫 БЕЗ ПОИСКА';

    if (willSearch) searchCount++;
    else noSearchCount++;

    console.log(`${index + 1}. "${message}"`);
    console.log(`   ${status}\n`);
});

console.log(`📊 СТАТИСТИКА:`);
console.log(`   🔍 Будут искать: ${searchCount} сообщений`);
console.log(`   🚫 Без поиска: ${noSearchCount} сообщений`);
console.log(`   📈 Процент поиска: ${Math.round((searchCount / testMessages.length) * 100)}%`);





