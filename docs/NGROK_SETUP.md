# Настройка деплоя с ngrok

## Шаги для настройки:

### 1. Получение authtoken от ngrok
1. Зарегистрируйтесь на [ngrok.com](https://ngrok.com)
2. Получите ваш authtoken в панели управления
3. Замените `# Вставьте ваш authtoken здесь` в файле `ngrok.yml` на ваш токен

### 2. Запуск приложения с ngrok

#### Вариант 1: Python скрипт (рекомендуется)
```bash
python3 start_with_ngrok.py
```

#### Вариант 2: Bash скрипт
```bash
./start_with_ngrok.sh
```

#### Вариант 3: Ручной запуск
```bash
# Терминал 1: Запуск ngrok
ngrok start windexai --config=ngrok.yml

# Терминал 2: Запуск приложения
export NGROK_URL="https://your-ngrok-url.ngrok.io"
python3 main.py
```

### 3. Использование

После запуска вы получите публичный URL вида:
`https://abc123.ngrok.io`

Все деплои будут доступны по адресу:
`https://abc123.ngrok.io/deploy/{deploy_url}`

### 4. Особенности

- **Бесплатный план ngrok**: URL меняется при каждом перезапуске
- **Платный план ngrok**: Можно зарезервировать постоянный subdomain
- **HTTPS**: ngrok автоматически предоставляет SSL сертификат
- **Web UI**: Доступен по адресу http://localhost:4040 для мониторинга

### 5. Переменные окружения

Приложение автоматически использует переменную `NGROK_URL` для генерации публичных ссылок на деплои.

### 6. Остановка

Для корректной остановки используйте `Ctrl+C` - скрипт автоматически остановит ngrok.
