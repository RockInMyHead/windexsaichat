#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ ngrok —Ç—É–Ω–Ω–µ–ª—è –¥–ª—è WindexAI Chat
# –ê–≤—Ç–æ—Ä: WindexAI Assistant

echo "üöÄ –ó–∞–ø—É—Å–∫ ngrok —Ç—É–Ω–Ω–µ–ª—è –¥–ª—è WindexAI Chat..."
echo "üì° –ü–æ—Ä—Ç: 8003"
echo ""

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–ø—É—â–µ–Ω –ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É 8003
if ! lsof -i :8003 > /dev/null 2>&1; then
    echo "‚ùå –û—à–∏–±–∫–∞: –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8003"
    echo "üí° –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π: python main.py"
    exit 1
fi

echo "‚úÖ –°–µ—Ä–≤–µ—Ä –æ–±–Ω–∞—Ä—É–∂–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É 8003"
echo "üåê –ó–∞–ø—É—Å–∫ ngrok —Ç—É–Ω–Ω–µ–ª—è..."
echo ""

# –ó–∞–ø—É—Å–∫–∞–µ–º ngrok
ngrok http 8003 --log=stdout
